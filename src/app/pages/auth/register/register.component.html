<div class="login-container">
  <p-toast position="top-center"></p-toast>
  <p-card [style]="cardStyles">
    <!-- Header con ícono animado -->
    <ng-template #header>
      <div class="header-container">
        <div class="avatar-circle">
          <i class="pi pi-user avatar-icon"></i>
        </div>
      </div>
    </ng-template>

    <!-- Título -->
    <ng-template #title>
      <div class="login-title">Registro</div>
    </ng-template>

    <!-- Inputs -->
    <div class="form-fields">
      <div class="label">Nombre de usuario</div>
      <p-inputgroup>
        <p-inputgroup-addon>
          <i class="pi pi-user"></i>
        </p-inputgroup-addon>
        <input pInputText [(ngModel)]="username" placeholder="Usuario" class="input-modern" name="username" required />
      </p-inputgroup>

      <div class="label">Contraseña</div>
      <p-inputgroup>
        <p-inputgroup-addon>
          <i class="pi pi-lock"></i>
        </p-inputgroup-addon>
        <input pInputText type="password" [(ngModel)]="password" placeholder="Contraseña" class="input-modern" name="password" required />
      </p-inputgroup>

      <div class="label">Confirmar Contraseña</div>
      <p-inputgroup>
        <p-inputgroup-addon>
          <i class="pi pi-lock"></i>
        </p-inputgroup-addon>
        <input pInputText type="password" [(ngModel)]="confirmPassword" placeholder="Confirmar Contraseña" class="input-modern" name="confirmPassword" required />
      </p-inputgroup>
    </div>

    <!-- Código QR -->
    <div *ngIf="qrCode" class="mt-4">
      <h3 style="color: rgb(58, 58, 58);">Escanea este código QR con Google Authenticator</h3>
      <img [src]="qrCode" alt="QR Code" style="max-width: 200px;" />
    </div>
    <br>
    <!-- Botones -->
    <ng-template #footer>
    <div class="login-buttons">
      <p-button
        label="Iniciar Sesión"
        severity="success"
        (click)="navigateToLogin()"
      ></p-button>
      <p-button
        *ngIf="!qrCode"
        (click)="register()"
        label="Regístrate"
        severity="info"
      ></p-button>
    </div>
  </ng-template>
  </p-card>
</div>
